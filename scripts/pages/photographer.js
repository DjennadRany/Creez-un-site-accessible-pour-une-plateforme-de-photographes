function incrementPhotographerInfo(e){let t=document.querySelector(".photograph-header"),a=document.createElement("div");a.classList.add("info-container");let l=document.createElement("div");l.classList.add("info-wrapper"),document.title="Fisheye - Photographe "+e.name;let d=document.createElement("h2");d.textContent=e.name;let r=document.createElement("p");r.textContent=" ";let n=document.createElement("p");n.textContent=`  ${e.city}, ${e.country} `,n.classList.add("city");let i=document.createElement("p");i.classList.add("taglin"),i.textContent=`${e.tagline}`;let s=document.createElement("button");s.classList.add("contact_button"),s.textContent="Contactez-moi",s.onclick=displayModal;let o=document.querySelector(".photograph-header");o.appendChild(s),l.appendChild(d),l.appendChild(n),l.appendChild(i);let p=document.createElement("img");p.src=`assets/photographers/${e.portrait}`,p.alt=e.name,p.classList.add("portrait"),p.setAttribute("aria-label",`Photo de ${e.name}`),t.appendChild(l),t.appendChild(s),t.appendChild(p),t.appendChild(a)}function getPhotographerById(e,t){return e.find(e=>e.id===t)}function getPhotographerInfoFromURL(e){let t=window.location.href,a=parseInt(t.split("#")[1]);return a?getPhotographerById(e,a):null}async function getPhotographers(){try{let e=await fetch("./data/photographers.json");if(!e.ok)throw Error("Looks like there was a problem. Status Code: "+e.status);let t=await e.json();console.log(t.photographers);let a=window.location.href,l=a.split("#")[1];console.log(l);let d=t.media.filter(e=>e.photographerId===parseInt(l));function r(e){let t=d[e],a=document.createElement("div");a.classList.add("blockouf");let l=document.createElement("figure"),r=document.createElement("p"),n=document.createElement("p"),s=document.createElement("span"),o=document.createElement("span"),p=document.createElement("div");if(n.classList.add("lowgne"),r.classList.add("ligne"),p.classList.add("prblock"),r.textContent=t.title,n.textContent=t.likes+"❤",t.image){let c=document.createElement("img");c.src=`./assets/${t.photographerId}/${t.image}`,c.alt=t.title,c.setAttribute("aria-label",`Image : ${d[e].title}`),l.appendChild(c)}else{let h=document.createElement("div");h.classList.add("black-square");let g=document.createElement("span");g.classList.add("play-icon"),g.textContent="▶",h.appendChild(g),l.appendChild(h)}if(t.video&&t.videoPoster){let m=document.createElement("video");m.src=`./assets/${t.photographerId}/${t.video}`,m.poster=`./assets/${t.photographerId}/${t.videoPoster}`,m.alt=t.title,l.appendChild(m)}a.appendChild(l),a.appendChild(p),p.appendChild(r),p.appendChild(n),p.appendChild(s),p.appendChild(o),l.addEventListener("click",()=>{(function e(t){let a=document.querySelector(".image-modal");a&&i();let l=document.createElement("div");l.classList.add("image-modal");let r=document.createElement("img");r.src=`./assets/${d[t].photographerId}/${d[t].image}`,r.alt=d[t].title,r.setAttribute("aria-label",`Image : ${d[t].title}`);let n=document.createElement("video");n.src=`./assets/${d[t].photographerId}/${d[t].video}`,n.poster=`./assets/${d[t].photographerId}/${d[t].videoPoster}`,n.alt=d[t].title,n.setAttribute("aria-label",`Video : ${d[t].title}`),n.controls=!0,n.autoplay=!0;let s=document.createElement("div"),o=document.createElement("div");s.textContent=d[t].title,s.classList.add("txt-img-modal");let p=document.createElement("button");p.classList.add("prev-button"),p.addEventListener("click",()=>{let a=(t-1+d.length)%d.length;i(),e(a)});let c=document.createElement("img");c.src="./assets/images/Vectorpreced.svg",c.classList.add("preced"),p.appendChild(c);let h=document.createElement("button");h.classList.add("next-button"),h.addEventListener("click",()=>{let a=(t+1)%d.length;i(),e(a)});let g=document.createElement("img");g.src="./assets/images/Vectorsuivant.svg",g.classList.add("suivan"),h.appendChild(g);let m=document.createElement("button");m.classList.add("close-button"),m.classList.add("fa-solid"),m.classList.add("fa-xmark"),m.addEventListener("click",()=>{i()}),d[t].video?(l.appendChild(p),l.appendChild(n),l.appendChild(m),l.appendChild(h),l.appendChild(o),l.appendChild(s)):(l.appendChild(p),l.appendChild(r),l.appendChild(m),l.appendChild(h),l.appendChild(o),l.appendChild(s)),document.body.appendChild(l)})(e)});let u=document.querySelector(".photographer_section");u.appendChild(a)}function n(){let e=document.querySelector(".photographer_section");e.innerHTML="",d.forEach((e,t)=>{r(t)})}function i(){let e=document.querySelector(".image-modal");e&&e.remove()}console.log(d),d.forEach((e,t)=>{r(t)}),function e(){let t=document.createElement("nav");t.classList.add("filter-section");let a=document.createElement("label");a.setAttribute("for","filter-select"),a.textContent="Trier par :";let l=document.createElement("div");l.classList.add("dropdown");let r=document.createElement("span");r.classList.add("dropdown-label"),r.textContent="Date";let i=document.createElement("span");i.classList.add("dropdown-icon");let s=document.createElement("img");s.src="./assets/images/Vectorarrowup.png",s.classList.add("arrowUp"),i.appendChild(s);let o=document.createElement("ul");o.classList.add("dropdown-options");let p=document.createElement("li");p.textContent="Date",p.setAttribute("data-value","date"),p.classList.add("selected");let c=document.createElement("li");c.textContent="Titre",c.setAttribute("data-value","title");let h=document.createElement("li");h.textContent="Popularit\xe9",h.setAttribute("data-value","popularity"),o.appendChild(p),o.appendChild(c),o.appendChild(h),l.appendChild(r),l.appendChild(i),l.appendChild(o),t.appendChild(a),t.appendChild(l);let g=document.querySelector(".photographer_section");g.parentNode.insertBefore(t,g),l.addEventListener("mouseenter",function(){i.classList.toggle("dropdown-anim"),o.classList.toggle("show")}),o.addEventListener("click",function(e){if("LI"===e.target.tagName){let t=o.querySelector(".selected");e.target.getAttribute("data-value"),t!==e.target&&(t.classList.remove("selected"),e.target.classList.add("selected"),o.appendChild(t)),e.target.classList.add("selected");let a=e.target.textContent;r.textContent=a,function e(){let t=o.querySelector(".selected").getAttribute("data-value");"date"===t?(d.sort((e,t)=>new Date(e.date)-new Date(t.date)),n()):"title"===t?(d.sort((e,t)=>e.title.localeCompare(t.title)),n()):"popularity"===t&&(d.sort((e,t)=>t.likes-e.likes),n())}(),o.classList.remove("show")}i.classList.remove("dropdown-anim")})}()}catch(s){console.error(s)}}function displayPhotographersData(){let e=window.location.href,t=e.lastIndexOf("#"),a=e.substring(t+1);fetch("./data/photographers.json").then(e=>e.json()).then(e=>{let t=e.photographers.find(e=>e.id===parseInt(a));if(t){let l=e.media.filter(e=>e.photographerId===parseInt(a)),d=l.reduce((e,t)=>e+t.likes,0),r=document.createElement("div");r.classList.add("tgm");let n=`
          
              <p>${d} ❤</p>  <p> ${t.price}€ /jour </p>
             
 
          `;r.innerHTML=n,document.body.appendChild(r)}else console.log("Photographer not found")}).catch(e=>{console.log("An error occurred:",e)})}fetch("./data/photographers.json").then(e=>e.json()).then(e=>{let t=e.photographers,a=getPhotographerInfoFromURL(t);a&&incrementPhotographerInfo(a)}).catch(e=>{console.log("Une erreur s'est produite lors de la r\xe9cup\xe9ration du fichier JSON :",e)}),getPhotographers(),displayPhotographersData();